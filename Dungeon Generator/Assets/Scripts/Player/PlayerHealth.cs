using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

//*******************************************************************************************************************************************//
//  File:   PlayerHealth.cs                                                                                                                  //
//                                                                                                                                           //
//  Author: Mark Ince                                                                                                                        //
//                                                                                                                                           //
//  Date:   03/11/2020                                                                                                                       //
//                                                                                                                                           //
//  Info:   Player health class                                                                                                              //
//                                                                                                                                           //
//  Notes:  Used to modify and keep record of the players current health                                                                     //
//                                                                                                                                           //
//*******************************************************************************************************************************************//

public class PlayerHealth : MonoBehaviour
{
    //***************************************************************************************************************************************//
    //	Private  Variables                                                                                                                   //
    //***************************************************************************************************************************************//

    [SerializeField] float hitPoints = 100.0f;
    public Text healthAmount;

    //***************************************************************************************************************************************//
    //	Update Function                                                                                                                      //
    //***************************************************************************************************************************************//

    private void Update()
    {
        healthAmount.text = hitPoints.ToString();
    }


    //***************************************************************************************************************************************//
    //	Class functions                                                                                                                      //
    //***************************************************************************************************************************************//

    //---------------------------------------------------------------------------------------------------------------------------------------//
    //  TakeDamage                                                                                                                           //
    // --------------------------------------------------------------------------------------------------------------------------------------//
    //  Function that modifies the amount of hitpoints the player has. Also checks to see if the player has less that 0 hitpoints = dead     //
    //                                                                                                                                       //
    // --------------------------------------------------------------------------------------------------------------------------------------//

    public void TakeDamage(float damage)
    {
        hitPoints -= damage;

        if (hitPoints <= 0)
        {
            GetComponent<DeathHandler>().HandleDeath();
        }
    }

}
