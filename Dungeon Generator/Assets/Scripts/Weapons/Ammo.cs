using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

//*******************************************************************************************************************************************//
//  File:   Ammo.cs                                                                                                                          //
//                                                                                                                                           //
//  Author: Mark Ince                                                                                                                        //
//                                                                                                                                           //
//  Date:   03/11/2020                                                                                                                       //
//                                                                                                                                           //
//  Info:   Ammo class                                                                                                                       //
//                                                                                                                                           //
//  Notes:  Deals with player ammo                                                                                                           //
//                                                                                                                                           //
//*******************************************************************************************************************************************//

public class Ammo : MonoBehaviour
{
    //***************************************************************************************************************************************//
    //	Private Variables                                                                                                                    //
    //***************************************************************************************************************************************//

    [SerializeField] int ammoAmount = 10;

    //***************************************************************************************************************************************//
    //	Public Variables                                                                                                                     //
    //***************************************************************************************************************************************//

    public Text ammoAmountText;
    public float timer;

    //***************************************************************************************************************************************//
    //	Update Function                                                                                                                      //
    //***************************************************************************************************************************************//

    private void Update()
    {
        ammoAmountText.text = ammoAmount.ToString();

        if (ammoAmount == 0)
        {
            timer = timer + Time.deltaTime;
            if (timer >= 0.5)
            {
                ammoAmountText.enabled = true;
            }
            if (timer >= 1)
            {
                ammoAmountText.enabled = false;
                timer = 0;
            }
        }

    }

    //***************************************************************************************************************************************//
    //	Class functions                                                                                                                      //
    //***************************************************************************************************************************************//

    //---------------------------------------------------------------------------------------------------------------------------------------//
    // GetCurrentAmmout                                                                                                                      //
    // --------------------------------------------------------------------------------------------------------------------------------------//
    // Function to get the amount of ammo the player currently has                                                                           //
    //                                                                                                                                       //
    // --------------------------------------------------------------------------------------------------------------------------------------//


    public int GetCurrentAmmout()
    {
        return ammoAmount;
    }

    //---------------------------------------------------------------------------------------------------------------------------------------//
    // ReduceCurrentAmmo                                                                                                                     //
    // --------------------------------------------------------------------------------------------------------------------------------------//
    // Function that reduces the amount of ammo the player has by one                                                                        //
    //                                                                                                                                       //
    // --------------------------------------------------------------------------------------------------------------------------------------//

    public void ReduceCurrentAmmo()
    {
        ammoAmount--;
    }

    //---------------------------------------------------------------------------------------------------------------------------------------//
    // IncreaseCurrentAmmo                                                                                                                   //
    // --------------------------------------------------------------------------------------------------------------------------------------//
    // Function that increases the amount of ammo the player has by one                                                                      //
    //                                                                                                                                       //
    // --------------------------------------------------------------------------------------------------------------------------------------//

    public void IncreaseCurrentAmmo(int _ammoAmount)
    {
        ammoAmount+= _ammoAmount;
    }
}
